{% extends "base.html" %}

{% block title %}Adotantes - Centro de Ado√ß√£o{% endblock %}

{% block content %}
<!-- CONTENT AREA -->
<div class="content-area">
    <!-- FORMUL√ÅRIO MULTI-STEP -->
    <div class="adotante-form-container">
        <!-- BARRA DE PROGRESSO -->
        <div class="progress-bar-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text">
                Se√ß√£o <span id="currentStep">1</span> de <span id="totalSteps">8</span>
            </div>
        </div>

        <!-- FORM MULTI-STEP -->
        <form id="adotanteForm" class="adotante-form">
            <!-- SE√á√ÉO 1: INFORMA√á√ïES B√ÅSICAS (Obrigat√≥ria) -->
            <fieldset class="form-section active" data-section="1">
                <h3>Informa√ß√µes B√°sicas</h3>
                <div class="form-group">
                    <label class="form-label">Nome Completo *</label>
                    <input type="text" class="form-control" name="nome" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Email *</label>
                    <input type="email" class="form-control" name="email" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Telefone</label>
                    <input type="tel" class="form-control" name="telefone" placeholder="(XX) XXXXX-XXXX">
                </div>
                <div class="form-group">
                    <label class="form-label">Idade</label>
                    <input type="number" class="form-control" name="idade" min="18" max="150">
                </div>
                <div class="form-group">
                    <label class="form-label">Profiss√£o</label>
                    <input type="text" class="form-control" name="profissao" placeholder="Ex: Professor, Veterin√°rio...">
                </div>
                <div class="form-group">
                    <label class="form-label">Filhos</label>
                    <input type="number" class="form-control" name="filhos" min="0" value="0">
                </div>
                <div class="form-group">
                    <label class="form-label">Faixa Et√°ria dos Filhos</label>
                    <input type="text" class="form-control" name="filhos_faixa_etaria" placeholder="Ex: 3-5 anos, 10-15 anos">
                </div>
            </fieldset>

            <!-- SE√á√ÉO 2: MORADIA (Obrigat√≥ria) -->
            <fieldset class="form-section" data-section="2">
                <h3>Informa√ß√µes de Moradia</h3>
                <div class="form-group">
                    <label class="form-label">Tipo de Moradia *</label>
                    <select class="form-control" name="tipo_moradia" required>
                        <option value="">Selecione...</option>
                        <option value="apartamento">Apartamento</option>
                        <option value="casa">Casa</option>
                        <option value="ch√°cara">Ch√°cara</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Tamanho da Moradia *</label>
                    <select class="form-control" name="tamanho_moradia" required>
                        <option value="">Selecione...</option>
                        <option value="pequeno">Pequeno (at√© 50m¬≤)</option>
                        <option value="m√©dio">M√©dio (50-100m¬≤)</option>
                        <option value="grande">Grande (acima de 100m¬≤)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Possui Quintal? *</label>
                    <select class="form-control" name="tem_quintal" required>
                        <option value="">Selecione...</option>
                        <option value="0">N√£o</option>
                        <option value="1">Sim</option>
                    </select>
                </div>
                <div class="form-group" id="tamanhoQuintalGroup" style="display: none;">
                    <label class="form-label">Tamanho do Quintal</label>
                    <select class="form-control" name="tamanho_quintal">
                        <option value="">Selecione...</option>
                        <option value="pequeno">Pequeno</option>
                        <option value="m√©dio">M√©dio</option>
                        <option value="grande">Grande</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Localiza√ß√£o *</label>
                    <select class="form-control" name="localizacao" required>
                        <option value="">Selecione...</option>
                        <option value="urbana">Urbana (Cidade)</option>
                        <option value="suburbana">Suburbana</option>
                        <option value="rural">Rural</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Aluga ou Possui? *</label>
                    <select class="form-control" name="aluga_ou_possui" required>
                        <option value="">Selecione...</option>
                        <option value="aluga">Aluga</option>
                        <option value="possui">Possui</option>
                    </select>
                </div>
            </fieldset>

            <!-- SE√á√ÉO 3: ROTINA E DISPONIBILIDADE (Obrigat√≥ria) -->
            <fieldset class="form-section" data-section="3">
                <h3>Rotina e Disponibilidade</h3>
                <div class="form-group">
                    <label class="form-label">Horas de Trabalho por Dia (0-24) *</label>
                    <input type="number" class="form-control" name="horas_trabalho_dia" min="0" max="24" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Horas que o Animal Ficaria Sozinho por Dia (0-24) *</label>
                    <input type="number" class="form-control" name="horas_sozinho_dia" min="0" max="24" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Viagens Frequentes? *</label>
                    <select class="form-control" name="viagens_frequentes" required>
                        <option value="">Selecione...</option>
                        <option value="0">N√£o</option>
                        <option value="1">Sim</option>
                    </select>
                </div>
                <div class="form-group" id="diasViagemGroup" style="display: none;">
                    <label class="form-label">Quantos Dias por Ano (aproximadamente)</label>
                    <input type="number" class="form-control" name="dias_viagem_ano" min="0" max="365">
                </div>
            </fieldset>

            <!-- SE√á√ÉO 4: ESTILO DE VIDA (Obrigat√≥ria) -->
            <fieldset class="form-section" data-section="4">
                <h3>Estilo de Vida</h3>
                <div class="form-group">
                    <label class="form-label">N√≠vel de Atividade *</label>
                    <select class="form-control" name="nivel_atividade" required>
                        <option value="">Selecione...</option>
                        <option value="sedent√°rio">Sedent√°rio (pouca atividade f√≠sica)</option>
                        <option value="moderado">Moderado (atividade regular)</option>
                        <option value="ativo">Ativo (exerc√≠cio frequente)</option>
                        <option value="muito_ativo">Muito Ativo (esportes e exerc√≠cio intenso)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Hobbies e Interesses</label>
                    <textarea class="form-control" name="hobbies" rows="3" placeholder="Ex: Leitura, esportes, culin√°ria, filmes..."></textarea>
                </div>
            </fieldset>

            <!-- SE√á√ÉO 5: EXPERI√äNCIA COM ANIMAIS (Opcional) -->
            <fieldset class="form-section" data-section="5">
                <h3>Experi√™ncia com Animais</h3>
                <p class="section-label">(Opcional)</p>
                <div class="form-group">
                    <label class="form-label">Experi√™ncia Pr√©via</label>
                    <select class="form-control" name="experiencia_previa">
                        <option value="">Selecione...</option>
                        <option value="nenhuma">Nenhuma experi√™ncia</option>
                        <option value="pouca">Pouca experi√™ncia</option>
                        <option value="m√©dia">M√©dia experi√™ncia</option>
                        <option value="muita">Muita experi√™ncia</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">J√° teve Animais?</label>
                    <textarea class="form-control" name="animais_tidos" rows="3" placeholder="Ex: cachorro, gato, p√°ssaro..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Problemas Passados com Animais?</label>
                    <textarea class="form-control" name="problemas_passados" rows="3" placeholder="Descreva qualquer problema anterior..."></textarea>
                </div>
            </fieldset>

            <!-- SE√á√ÉO 6: PREFER√äNCIAS DO ANIMAL (Opcional) -->
            <fieldset class="form-section" data-section="6">
                <h3>Prefer√™ncias do Animal</h3>
                <p class="section-label">(Opcional)</p>
                <div class="form-group">
                    <label class="form-label">Tamanho Preferido</label>
                    <select class="form-control" name="tamanho_preferido">
                        <option value="">Sem prefer√™ncia</option>
                        <option value="pequeno">Pequeno (at√© 5kg)</option>
                        <option value="m√©dio">M√©dio (5-20kg)</option>
                        <option value="grande">Grande (acima de 20kg)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Idade Preferida</label>
                    <select class="form-control" name="idade_preferida">
                        <option value="">Sem prefer√™ncia</option>
                        <option value="filhote">Filhote</option>
                        <option value="jovem">Jovem</option>
                        <option value="adulto">Adulto</option>
                        <option value="idoso">Idoso</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">G√™nero Preferido</label>
                    <select class="form-control" name="genero_preferido">
                        <option value="sem_prefer√™ncia">Sem prefer√™ncia</option>
                        <option value="macho">Macho</option>
                        <option value="f√™mea">F√™mea</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Prefer√™ncia por Tra√ßos de Personalidade</label>
                    <select class="form-control" name="tem_preferencia_tracos" id="temPreferenciaTracos">
                        <option value="0">N√£o tenho prefer√™ncia (ignorar pesos de personalidade)</option>
                        <option value="1">Tenho prefer√™ncias (usar tags abaixo)</option>
                    </select>
                </div>

                <div id="tagsPreferenciaContainer" style="display: none;">
                    <h4>Tags de Personalidade Preferidas</h4>
                    <div class="checkbox-group">
                        <div class="checkbox-item"><input type="checkbox" name="tags_ideais" value="Hiperativo"> Hiperativo ‚ö°</div>
                        <div class="checkbox-item"><input type="checkbox" name="tags_ideais" value="Animador"> Animador üéâ</div>
                        <div class="checkbox-item"><input type="checkbox" name="tags_ideais" value="Aventureiro"> Aventureiro üßó</div>
                        <div class="checkbox-item"><input type="checkbox" name="tags_ideais" value="Companheiro"> Companheiro ü§ù</div>
                        <div class="checkbox-item"><input type="checkbox" name="tags_ideais" value="Devoto"> Devoto üíï</div>
                        <div class="checkbox-item"><input type="checkbox" name="tags_ideais" value="Carente"> Carente ü•∫</div>
                        <div class="checkbox-item"><input type="checkbox" name="tags_ideais" value="Atl√©tico"> Atl√©tico üèÉ</div>
                        <div class="checkbox-item"><input type="checkbox" name="tags_ideais" value="Rebelde"> Rebelde üî•</div>
                        <div class="checkbox-item"><input type="checkbox" name="tags_ideais" value="Guardi√£o"> Guardi√£o üõ°Ô∏è</div>
                        <div class="checkbox-item"><input type="checkbox" name="tags_ideais" value="Ca√ßador"> Ca√ßador üéØ</div>
                        <div class="checkbox-item"><input type="checkbox" name="tags_ideais" value="Reservado"> Reservado üßê</div>
                        <div class="checkbox-item"><input type="checkbox" name="tags_ideais" value="Disciplinado"> Disciplinado üìö</div>
                        <div class="checkbox-item"><input type="checkbox" name="tags_ideais" value="Soneca"> Soneca üò¥</div>
                        <div class="checkbox-item"><input type="checkbox" name="tags_ideais" value="Relaxado"> Relaxado üòé</div>
                        <div class="checkbox-item"><input type="checkbox" name="tags_ideais" value="T√≠mido"> T√≠mido üôà</div>
                        <div class="checkbox-item"><input type="checkbox" name="tags_ideais" value="Arredio"> Arredio ü¶Å</div>
                        <div class="checkbox-item"><input type="checkbox" name="tags_ideais" value="Indom√°vel"> Indom√°vel üëë</div>
                        <div class="checkbox-item"><input type="checkbox" name="tags_ideais" value="Travesso"> Travesso üòà</div>
                        <div class="checkbox-item"><input type="checkbox" name="tags_ideais" value="Misterioso"> Misterioso üåô</div>
                        <div class="checkbox-item"><input type="checkbox" name="tags_ideais" value="Alfa"> Alfa üê∫</div>
                    </div>
                </div>
            </fieldset>

            <!-- SE√á√ÉO 7: OUTROS ANIMAIS EM CASA (Opcional) -->
            <fieldset class="form-section" data-section="7">
                <h3>Outros Animais em Casa</h3>
                <p class="section-label">(Opcional)</p>
                <div class="form-group">
                    <label class="form-label">Tem Outros Animais? *</label>
                    <select class="form-control" name="tem_outros_animais" required>
                        <option value="">Selecione...</option>
                        <option value="0">N√£o</option>
                        <option value="1">Sim</option>
                    </select>
                </div>
                <div class="form-group" id="quantidadeAnimaisGroup" style="display: none;">
                    <label class="form-label">Quantos Animais?</label>
                    <input type="number" class="form-control" name="quantidade_outros_animais" min="1">
                </div>
                <div class="form-group" id="tipoAnimaisGroup" style="display: none;">
                    <label class="form-label">Tipos de Animais</label>
                    <textarea class="form-control" name="tipo_outros_animais" rows="3" placeholder="Ex: 1 cachorro, 2 gatos..."></textarea>
                </div>
            </fieldset>

            <!-- SE√á√ÉO 8: RECURSOS E COMPROMETIMENTO (Opcional) -->
            <fieldset class="form-section" data-section="8">
                <h3>Recursos e Comprometimento</h3>
                <p class="section-label">(Opcional)</p>
                <div class="form-group">
                    <label class="form-label">Or√ßamento Mensal M√≠nimo (R$)</label>
                    <input type="number" class="form-control" name="orcamento_mensal_min" min="0" step="0.01">
                </div>
                <div class="form-group">
                    <label class="form-label">Or√ßamento Mensal M√°ximo (R$)</label>
                    <input type="number" class="form-control" name="orcamento_mensal_max" min="0" step="0.01">
                </div>
                <div class="form-group">
                    <label class="form-label">Disponibilidade de Tempo Di√°rio</label>
                    <textarea class="form-control" name="disponibilidade_tempo_diario" rows="3" placeholder="Ex: 2 horas de manh√£, 3 horas √† noite..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Comprometimento com o Animal</label>
                    <textarea class="form-control" name="comprometimento_texto" rows="4" placeholder="Conte-nos sobre seu comprometimento com o bem-estar e cuidados do animal..."></textarea>
                </div>
            </fieldset>

            <!-- BOT√ïES DE NAVEGA√á√ÉO -->
            <div class="form-navigation">
                <button type="button" class="btn btn-secondary" id="prevBtn" style="display: none;" onclick="previousStep()">
                    ‚Üê Anterior
                </button>
                <button type="button" class="btn btn-primary" id="nextBtn" onclick="nextStep()">
                    Pr√≥ximo ‚Üí
                </button>
                <button type="submit" class="btn btn-success" id="submitBtn" style="display: none;">
                    ‚úì Enviar Cadastro
                </button>
            </div>

            <!-- MENSAGENS -->
            <div id="formMessage" class="form-message" style="display: none;"></div>
        </form>
    </div>

    <!-- LISTA DE ADOTANTES (lado direito, pode ser expandido) -->
    <div class="adotante-list" id="adotanteList">
        <div class="empty-state">
            <div class="empty-icon">üë•</div>
            <div class="empty-text">Nenhum adotante cadastrado</div>
            <div class="empty-subtext">Preencha o formul√°rio para registrar um novo adotante</div>
        </div>
    </div>
</div>

{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/adotantes.css') }}">
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/services/adotante-service.js') }}"></script>
<script src="{{ url_for('static', filename='js/forms/adotante-form.js') }}"></script>
{% endblock %}
